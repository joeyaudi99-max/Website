{"ast":null,"code":"import React,{useEffect,useState}from'react';import styles from'./Lightbox.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Lightbox=_ref=>{let{isOpen,imageSrc,imageAlt,onClose,onNext,onPrev,currentIndex,totalImages}=_ref;const[shouldRender,setShouldRender]=useState(false);useEffect(()=>{const handleKeyDown=e=>{if(!isOpen)return;switch(e.key){case'Escape':onClose();break;case'ArrowLeft':if(onPrev)onPrev();break;case'ArrowRight':if(onNext)onNext();break;}};document.addEventListener('keydown',handleKeyDown);return()=>document.removeEventListener('keydown',handleKeyDown);},[isOpen,onClose,onNext,onPrev]);// Prevent background scrolling when lightbox is open\nuseEffect(()=>{if(isOpen){document.body.style.overflow='hidden';}else{document.body.style.overflow='';}return()=>{document.body.style.overflow='';};},[isOpen]);// Manage rendering state to allow exit transition\nuseEffect(()=>{if(isOpen){setShouldRender(true);}else{// Delay unmounting to allow exit transition to complete (300ms transition + 50ms buffer)\nconst timer=setTimeout(()=>{setShouldRender(false);// Ensure body overflow is reset\ndocument.body.style.overflow='';},350);return()=>clearTimeout(timer);}},[isOpen]);if(!shouldRender||!imageSrc){// Ensure overflow is reset when component is not rendering\nif(document.body.style.overflow==='hidden'){document.body.style.overflow='';}return null;}const handleBackgroundClick=e=>{if(e.target===e.currentTarget){onClose();}};return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.lightboxModal,\" \").concat(isOpen?styles.active:''),onClick:handleBackgroundClick,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.lightboxContent,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.lightboxClose,onClick:onClose,\"aria-label\":\"Close lightbox\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}),onPrev&&totalImages&&totalImages>1&&/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.lightboxNav,\" \").concat(styles.prev),onClick:onPrev,\"aria-label\":\"Previous image\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-left\"})}),/*#__PURE__*/_jsx(\"img\",{src:imageSrc,alt:imageAlt,className:styles.lightboxImage}),onNext&&totalImages&&totalImages>1&&/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.lightboxNav,\" \").concat(styles.next),onClick:onNext,\"aria-label\":\"Next image\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-right\"})}),typeof currentIndex==='number'&&totalImages&&totalImages>1&&/*#__PURE__*/_jsxs(\"div\",{className:styles.lightboxCounter,children:[currentIndex+1,\" / \",totalImages]})]})});};export default Lightbox;","map":{"version":3,"names":["React","useEffect","useState","styles","jsx","_jsx","jsxs","_jsxs","Lightbox","_ref","isOpen","imageSrc","imageAlt","onClose","onNext","onPrev","currentIndex","totalImages","shouldRender","setShouldRender","handleKeyDown","e","key","document","addEventListener","removeEventListener","body","style","overflow","timer","setTimeout","clearTimeout","handleBackgroundClick","target","currentTarget","className","concat","lightboxModal","active","onClick","children","lightboxContent","lightboxClose","lightboxNav","prev","src","alt","lightboxImage","next","lightboxCounter"],"sources":["C:/Users/Joey/Documents/Website/src/components/portfolio/Lightbox.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styles from './Lightbox.module.css';\r\n\r\ninterface LightboxProps {\r\n  isOpen: boolean;\r\n  imageSrc: string | null;\r\n  imageAlt: string;\r\n  onClose: () => void;\r\n  onNext?: () => void;\r\n  onPrev?: () => void;\r\n  currentIndex?: number;\r\n  totalImages?: number;\r\n}\r\n\r\nconst Lightbox: React.FC<LightboxProps> = ({\r\n  isOpen,\r\n  imageSrc,\r\n  imageAlt,\r\n  onClose,\r\n  onNext,\r\n  onPrev,\r\n  currentIndex,\r\n  totalImages\r\n}) => {\r\n  const [shouldRender, setShouldRender] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (!isOpen) return;\r\n      \r\n      switch (e.key) {\r\n        case 'Escape':\r\n          onClose();\r\n          break;\r\n        case 'ArrowLeft':\r\n          if (onPrev) onPrev();\r\n          break;\r\n        case 'ArrowRight':\r\n          if (onNext) onNext();\r\n          break;\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [isOpen, onClose, onNext, onPrev]);\r\n\r\n  // Prevent background scrolling when lightbox is open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = '';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Manage rendering state to allow exit transition\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setShouldRender(true);\r\n    } else {\r\n      // Delay unmounting to allow exit transition to complete (300ms transition + 50ms buffer)\r\n      const timer = setTimeout(() => {\r\n        setShouldRender(false);\r\n        // Ensure body overflow is reset\r\n        document.body.style.overflow = '';\r\n      }, 350);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  if (!shouldRender || !imageSrc) {\r\n    // Ensure overflow is reset when component is not rendering\r\n    if (document.body.style.overflow === 'hidden') {\r\n      document.body.style.overflow = '';\r\n    }\r\n    return null;\r\n  }\r\n\r\n  const handleBackgroundClick = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`${styles.lightboxModal} ${isOpen ? styles.active : ''}`}\r\n      onClick={handleBackgroundClick}\r\n    >\r\n      <div className={styles.lightboxContent}>\r\n        <button \r\n          className={styles.lightboxClose}\r\n          onClick={onClose}\r\n          aria-label=\"Close lightbox\"\r\n        >\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n\r\n        {onPrev && totalImages && totalImages > 1 && (\r\n          <button \r\n            className={`${styles.lightboxNav} ${styles.prev}`}\r\n            onClick={onPrev}\r\n            aria-label=\"Previous image\"\r\n          >\r\n            <i className=\"fas fa-chevron-left\"></i>\r\n          </button>\r\n        )}\r\n\r\n        <img \r\n          src={imageSrc} \r\n          alt={imageAlt}\r\n          className={styles.lightboxImage}\r\n        />\r\n\r\n        {onNext && totalImages && totalImages > 1 && (\r\n          <button \r\n            className={`${styles.lightboxNav} ${styles.next}`}\r\n            onClick={onNext}\r\n            aria-label=\"Next image\"\r\n          >\r\n            <i className=\"fas fa-chevron-right\"></i>\r\n          </button>\r\n        )}\r\n\r\n        {typeof currentIndex === 'number' && totalImages && totalImages > 1 && (\r\n          <div className={styles.lightboxCounter}>\r\n            {currentIndex + 1} / {totalImages}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Lightbox;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}